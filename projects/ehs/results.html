<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoOnline Performance Testing</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <img src="../../logo.png" alt="EcoOnline Logo">
    <h1>Performance Testing</h1>
    <ul id="results-list">
        <!-- List items will be populated here -->
    </ul>

    <script>
        // Fetch and render results from index.json
        fetch('index.json')
            .then(response => response.json())
            .then(data => {
                const list = document.getElementById('results-list');
                data.forEach(file => {
                    const listItem = document.createElement('li');
                    const link = document.createElement('a');
                    link.href = `results/${file}`;
                    link.textContent = formatDateFromFilename(file);
                    listItem.appendChild(link);
                    list.appendChild(listItem);
                });
            })
            .catch(error => console.error('Error loading results:', error));

        // Helper function to format date from filename
        function formatDateFromFilename(filename) {
            const match = filename.match(/(\d{4})(\d{2})(\d{2})_(\d{2})(\d{2})(\d{2})/);
            if (match) {
                const [_, year, month, day, hour, minute] = match;
                return `${day}/${month}/${year} - ${hour}:${minute}`;
            }
            return filename; // Fallback if filename isn't in expected format
        }
    </script>
</body>
</html>